(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"43313663304ed89e4ea5":function(t,e,a){var n=a("5a9bc6cd7fd9452dfa64");"string"===typeof n&&(n=[[t.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a("1e4534d1d62a11482e97")(n,r);n.locals&&(t.exports=n.locals)},"5a9bc6cd7fd9452dfa64":function(t,e,a){(t.exports=a("0e326f80368fd0b1333e")(!1)).push([t.i,"#tooltip {\n  background: cornsilk;\n  border: 1px solid black;\n  border-radius: 5px;\n  padding: 5px;\n}\n",""])},cc6a8faf2965ff280f57:function(t,e,a){"use strict";a.r(e);var n,r=a("8af190b70a6bc55c6f1b"),o=(a("8a2d1b95e05b6a321e74"),a("3213036df25228ce4a78")),i=a("b02fe3f80d4238b52f20"),c=a.n(i),d=a("921c0b8c557fe6ba5da8"),l=a.n(d),f=a("3b9dc0fd87412b32aa77"),s=a.n(f),u=a("5c0a236ca4c0b26f32cd"),h=a.n(u),p=a("c502bee2fd4be3dd7f62"),b=a.n(p),m=a("f11661e5e18c1019f91f");a("43313663304ed89e4ea5");function v(t,e,a,r){n||(n="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=t&&t.defaultProps,i=arguments.length-3;if(e||0===i||(e={children:void 0}),e&&o)for(var c in o)void 0===e[c]&&(e[c]=o[c]);else e||(e=o||{});if(1===i)e.children=r;else if(i>1){for(var d=new Array(i),l=0;l<i;l++)d[l]=arguments[l+3];e.children=d}return{$$typeof:n,type:t,key:void 0===a?null:""+a,ref:null,props:e,_owner:null}}var y,g=0,x=0,w=100,j=0,_=Object(r.memo)(function(t){var e=t.chartData,a=t.isShowPercentage,n=[],i=[];e.chart_data.map(function(t){return t.dist.map(function(t){return n.push(100*t.percoftotal)})});var c=Object(m.max)(n,function(t){return t});["asd","asd","asd","asd","asd","asd","asd","asd","asd"].map(function(t,e){return i.push(c/9*(e+1))});var d=1e3-(100*e.chart_data[0].dist.length+10*(e.chart_data[0].dist.length+1)+300),l=100*e.chart_data.length+20*e.chart_data.length+w,f=l-g-w,s=1e3-j-x,u=100*e.chart_data[0].dist.length+10*(e.chart_data[0].dist.length+1),h=Object(m.scaleLinear)().domain([0,Object(m.max)(e.chart_data,function(t){return t.total})]).range([j,s]),p=Object(m.scaleBand)().domain(Object(m.range)(e.chart_data.length)).rangeRound([g,l-w]).padding(.1),b=Object(m.scaleLinear)().domain([0,e.chart_data[0].dist.length]).range([j,u]),y=Object(m.scaleThreshold)().domain(i).range(["#dce4e3","#c8dbd9","#b4d2ce","#a0cac4","#8cc1ba","#77b8af","#61afa4","#49a69a","#2a9d8f"]),_=Object(m.scaleLinear)().domain([0,Object(m.max)(e.chart_data,function(t){return 100*t.percoftotal})]).range([0,d]),O=function(t){for(var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=t.split(/\s+/).reverse(),r=[],o=[];e=n.pop();)o.push(e),o.join(" ").length>a&&(o.pop(),r.push(o.join(" ")),o=[e]);return r.push(o.join(" ")),r},S=[];function k(){document.getElementById("tooltip").style.display="none"}return e.chart_data.map(function(t){return t.dist.map(function(t){return S.push(t.percoftotal)})}),v(r.Fragment,{},void 0,v("div",{id:"tooltip",display:"none",style:{position:"absolute",display:"none"}}),v("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(1180," ").concat(l)},void 0,v("g",{transform:"translate(".concat(j,",").concat(g,")")},void 0,e.chart_data.map(function(t,n){return v(r.Fragment,{},Object(o.a)(t,n),v("rect",{fill:"rgba(38,70,83,0.15)",x:h(0),y:p(n),width:1e3-j-x,height:p.bandwidth()}),v("rect",{fill:"rgba(38,70,83,0.55)",x:h(0),y:p(n),width:u+10+_(100*t.percoftotal),height:p.bandwidth()}),e.chart_data[n].dist.map(function(e,r){return v("g",{},Object(o.a)(e,r),v("rect",{fill:y(100*e.percoftotal),x:b(r)+10,y:p(n)+10,width:100,height:p.bandwidth()-20,onMouseMove:function(a){return function(t,e){var a=document.getElementById("tooltip");a.innerHTML=e,a.style.display="block",a.style.left=t.pageX+10+"px",a.style.top=t.pageY+10+"px"}(a,"".concat(t.y_label_en," - ").concat(e.x_label_en," - ").concat(e.total,"(").concat(Math.round(100*e.percoftotal),"% of total) "))},onMouseOut:function(){return k()},onBlur:function(){return k()}}),v("text",{style:{fontWeight:"600",color:"".concat(Object(m.max)(S)/2>e.percoftotal?"rgba(0,0,0,0.35)":"rgba(255,255,255,0.7)"),textAnchor:"end"},x:b(r)+100+10,y:p(n)+p.bandwidth()-10,dx:-5,dy:-10/1.5},void 0,a?"".concat(Math.round(100*e.percoftotal),"%"):e.total))}))}),e.chart_data[0].dist.map(function(t,e){return v("text",{x:b(e)+5+p.bandwidth()/2,y:f,verticalAnchor:"start",textAnchor:"middle",dominantBaseline:"end",style:{fontWeight:"500",fontSize:"0.9rem"}},Object(o.a)(t,e),O(t.xlabel.en,12).map(function(t,a){return v("tspan",{x:b(e)+5+p.bandwidth()/2,y:f+10,dy:0===a?"0em":"".concat(1.2*a,"em")},Object(o.a)(t,a),t)}))}),e.chart_data.map(function(t,e){return v("g",{transform:"translate(".concat(j+s-10,", ").concat(g,")")},Object(o.a)(t,e),v("text",{x:"0",y:p(e)+p.bandwidth()-10,textAnchor:"end",dominantBaseline:"end",style:{fontSize:"0.9rem"}},void 0,O(t.ylabel.en,25).reverse().map(function(t,e){return v("tspan",{x:"0",dy:0===e?"0em":"-1.2em"},Object(o.a)(t,e),t)}),v("tspan",{x:"0",dy:"-1.2em",fontWeight:"bold"},void 0,a?"".concat(Math.round(100*t.percoftotal),"%"):t.total)))}),v("text",{x:1e3-j-x,y:l-10,textAnchor:"end",style:{fontSize:"0.9rem",color:"#696969"}},void 0,v("tspan",{x:1e3-j-x,y:l-10,textAnchor:"end",style:{fontSize:"0.9rem",color:"#696969"}},void 0,e.chartInfo)))))}),O=a("3ed81f8d24b90b29f580"),S=Object(O.a)(function(){return Promise.all([a.e(14),a.e(38)]).then(a.bind(null,"f90d48bcb595299d7f2b"))}),k=a("6e7cb9018586e5f4d7d3"),A=a.n(k);function B(t,e,a,n){y||(y="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=t&&t.defaultProps,o=arguments.length-3;if(e||0===o||(e={children:void 0}),e&&r)for(var i in r)void 0===e[i]&&(e[i]=r[i]);else e||(e=r||{});if(1===o)e.children=n;else if(o>1){for(var c=new Array(o),d=0;d<o;d++)c[d]=arguments[d+3];e.children=c}return{$$typeof:y,type:t,key:void 0===a?null:""+a,ref:null,props:e,_owner:null}}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],n=!0,r=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(a.push(i.value),!e||a.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var D="en",M=B(l.a,{variant:"body2",color:"primary"},void 0,"QUESTION"),P=B(s.a,{color:"primary"}),T=B(l.a,{variant:"body2",gutterBottom:!0,color:"textPrimary"},void 0,"Download this data"),E=B(l.a,{variant:"body2",gutterBottom:!0,color:"textPrimary"},void 0,"Show in percentages"),z=B(A.a,{animation:"wave",variant:"rect",width:"50vw",height:85}),L=B(A.a,{animation:"wave",variant:"text",width:"6vw"});e.default=Object(r.memo)(function(t){t.chartData;var e=t.loading,a=t.viewType,n=t.element,i=t.surveyArea,d=t.researchArea,f=I(Object(r.useState)(!0),2),s=f[0],u=f[1];return B(c.a,{elevation:1,style:{marginBottom:"2rem",position:"relative",flex:"48%"}},void 0,B("div",{style:{position:"absolute",right:"2rem",padding:"1rem",background:"#E9C46A"}},void 0,B(l.a,{variant:"body2",style:{color:"white"}},void 0,"Updated July 21, 2021")),B("div",{style:{padding:"2rem"}},void 0,M,B(l.a,{variant:"h6",gutterBottom:!0,style:{width:"50%"}},void 0,n.ques[D]),B("div",{style:{display:"flex",gap:"1.2rem",alignItems:"center",marginTop:"1.5rem"}},void 0,B("div",{style:{display:"flex",gap:"0.2rem"},role:"button",onClick:function(){return t=n.variable,window.open("http://178.128.59.143:4000/api/v1/download/chart/?type=bivariate&survey=".concat("businesses"===i?"business":"workforce","&var_group=").concat(d,"&variable=").concat(t),"_self");var t}},void 0,P,T),"chart"===a&&B(h.a,{control:B(b.a,{checked:s,onChange:function(){return u(!s)},name:"checkedB",color:"primary"}),label:E})),e&&B("div",{style:{display:"flex",gap:"1rem",flexDirection:"column"}},void 0,["a","b","c","d"].map(function(t){return B("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"1rem"}},Object(o.a)(t),z,L)})),"chart"===a?B(_,{chartData:n,isShowPercentage:s}):B(S,{chartData:n})))})}}]);